<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.green.plants.dao.MemberDAO">
	<insert id="signup">
	insert into member(id, pw, name, phone, email)
	values (#{member.id}, #{member.pw}, #{member.name}, #{member.phone}, #{member.email})
	</insert>
	
	<select id="getMember" resultType="kr.green.plants.vo.MemberVO">
	select * from member where id = #{id} and valid='I'
	</select>
	
	<update id="updateMember">
	update member
	set pw = #{member.pw}, phone = #{member.phone}, email = #{member.email}, valid= #{member.valid}
	where id = #{member.id}
	</update>
	
	<select id="findMemberId" resultType="kr.green.plants.vo.MemberVO">
	select * from member where name = #{name} and email = #{email}
	</select>
	
	<select id="findMemberPw" resultType="kr.green.plants.vo.MemberVO">
	select * from member where id = #{id} and name = #{name} and email = #{email}
	</select>
	
	<insert id="insertWish">
	insert into wishlist(member_id, item_num) values(#{id}, #{num})
	</insert>
	
	<select id="selectWish" resultType="kr.green.plants.vo.WishVO">
	select * from wishlist where member_id = #{id}
	</select>
	
		<!-- Seller mapper -->
	<insert id="updateSeller">
	insert into seller(member_id ,num, `name`, address, phone, email)
	values (#{seller.member_id}, #{seller.num}, #{seller.name}, #{seller.address}, #{seller.phone}, #{seller.email})
	</insert>
	
	<select id="selectSeller" resultType="kr.green.plants.vo.SellerVO">
	select * from seller where valid='I'
	</select>
	
	<select id="selectMember" resultType="kr.green.plants.vo.MemberVO">
	select * from member
	</select>
</mapper>